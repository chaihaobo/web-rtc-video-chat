# WebRTC 视频通话应用

这是一个基于WebRTC的本地局域网视频通话网页应用。它允许两个用户在同一局域网内进行视频通话。

## 功能特点

- 实时视频通话
- 简单的用户界面
- 本地ID生成和复制
- 支持摄像头和麦克风
- WebSocket信令服务器
- HTTPS安全连接

## 安装步骤

1. 确保已安装 Node.js (推荐 v14.0.0 或更高版本)
2. 克隆或下载此仓库
3. 在项目目录中运行以下命令安装依赖：
   ```bash
   npm install
   ```
4. 生成SSL证书：
   ```bash
   chmod +x generate-cert.sh
   ./generate-cert.sh
   ```

## 运行应用

1. 启动信令服务器：
   ```bash
   npm start
   ```
2. 在浏览器中访问 `https://localhost:3000`
   - 注意：由于使用自签名证书，浏览器会显示安全警告，这是正常的
   - 在Chrome中，点击"高级" -> "继续前往localhost（不安全）"
   - 在Firefox中，点击"高级" -> "接受风险并继续"
3. 在另一个浏览器窗口或标签页中访问相同的地址
4. 点击"开始通话"按钮，允许浏览器访问摄像头和麦克风
5. 系统会自动生成一个本地ID，点击"复制"按钮复制ID
6. 将你的ID发送给对方，并获取对方的ID
7. 在"对方ID"输入框中输入对方的ID
8. 点击"呼叫"按钮开始通话
9. 通话结束后，点击"挂断"按钮结束通话

## 注意事项

- 确保浏览器支持WebRTC（推荐使用最新版本的Chrome、Firefox或Safari）
- 确保已授予浏览器访问摄像头和麦克风的权限
- 两个用户必须在同一局域网内
- 目前版本仅支持点对点连接，不支持多人通话
- 由于使用自签名证书，浏览器会显示安全警告，这是正常的

## 技术说明

- 使用WebRTC API实现点对点视频通话
- 使用WebSocket实现信令服务器
- 使用STUN服务器进行NAT穿透
- 使用Express提供静态文件服务
- 使用HTTPS确保安全连接
- 使用现代CSS Grid和Flexbox进行布局

## 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 11+
- Edge 79+

## 开发说明

- 前端代码位于根目录的HTML、CSS和JavaScript文件中
- 信令服务器代码位于 `server.js`
- SSL证书生成脚本位于 `generate-cert.sh`
- 使用 `npm start` 启动开发服务器 